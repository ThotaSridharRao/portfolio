<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Name - Portfolio</title>
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon"> <!-- Optional: Add a favicon -->
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        /* Base Styles & Typography */
        :root {
            --bg-dark: #1a1a2e;
            --bg-medium: #1f2038;
            --text-light: #e0e0e0;
            --text-grey: #a0a0a0;
            --accent-color: rgb(0, 85, 255);   /* New accent color: Blue */
            --accent-dark: rgb(0, 70, 200);    /* Darker shade for hover */
            --shadow-color: rgba(0, 0, 0, 0.4);
            --transition-speed: 0.5s;
            --transition-ease: cubic-bezier(0.25, 0.46, 0.45, 0.94); /* ease-out-quad */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px; /* Base font size */
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-light);
            overflow: hidden; /* Scroll locked initially */
            line-height: 1.6;
            display: flex; /* For initial layout before JS loads, on desktop this will be overwritten */
            min-height: 100vh; /* Ensure body takes full height for initial layout */
        }

        /* Unlock scroll when page is loaded */
        body.scroll-unlocked {
            overflow-y: auto;
        }

        h1, h2, h3, h4 {
            font-family: 'Montserrat', sans-serif;
            color: var(--text-light);
            font-weight: 700;
            margin-bottom: 0.8em;
        }

        h1 { font-size: 2.8em; }
        h2 { font-size: 2.2em; }
        h3 { font-size: 1.8em; }
        p { font-size: 1.1em; }
        a {
            color: var(--accent-color);
            text-decoration: none;
            transition: color var(--transition-speed);
        }
        a:hover {
            color: var(--accent-dark);
        }

        .highlight {
            color: var(--accent-color);
            font-weight: 600;
        }

        /* Buttons */
        .btn-primary, .btn-secondary {
            display: inline-block;
            padding: 0.8em 1.5em;
            border-radius: 5px;
            font-weight: 600;
            transition: all 0.3s var(--transition-ease);
            text-align: center;
            border: none;
            cursor: pointer;
            font-size: 1em;
        }

        .btn-primary {
            background-color: var(--accent-color);
            color: var(--text-light);
            box-shadow: 0 4px 8px var(--shadow-color);
        }
        .btn-primary:hover {
            background-color: var(--accent-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px var(--shadow-color);
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--accent-color);
            border: 2px solid var(--accent-color);
        }
        .btn-secondary:hover {
            background-color: var(--accent-color);
            color: var(--text-light);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px var(--shadow-color);
        }

        /* --- Loading Overlay --- */
        .loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-dark);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            opacity: 1;
            visibility: visible;
            transition: opacity 0.8s ease-out, visibility 0.8s ease-out;
        }

        .loader-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loader {
            border: 8px solid rgba(255, 255, 255, 0.2);
            border-top: 8px solid var(--accent-color);
            border-radius: 50%;
            width: 60px;
            height: 60px;
            animation: spin 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite; /* Springy spin */
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* --- Main Layout --- */
        .main-content-wrapper {
            display: flex;
            min-height: 100vh; /* Ensure it takes full viewport height */
            width: 100%; /* Take full width */
        }

        /* --- Sidebar --- */
        .sidebar {
            width: 280px; /* Fixed width */
            background-color: var(--bg-medium);
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            box-shadow: 4px 0 10px var(--shadow-color);
            position: sticky; /* Sticky sidebar */
            top: 0;
            height: 100vh; /* Ensure sidebar takes full height */
            overflow-y: auto; /* Allow sidebar to scroll if content is too long */
        }

        .profile-pic-container {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .profile-pic {
            /* Updated image size for larger screens */
            width: 200px;
            height: 200px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--accent-color);
            margin-bottom: 15px;
            box-shadow: 0 0 15px rgba(0, 85, 255, 0.6); /* Adjusted shadow for new accent color */
        }

        .profile-pic-container h1 {
            font-size: 1.8em;
            margin-bottom: 5px;
            color: var(--accent-color);
        }

        .profile-pic-container p {
            font-size: 0.9em;
            color: var(--text-grey);
        }

        .navigation-cards {
            display: flex;
            flex-direction: column;
            width: 100%;
            gap: 15px; /* Space between cards */
            flex-grow: 1; /* Make it take available space */
            justify-content: center; /* Center nav items vertically */
        }

        .nav-card {
            display: block;
            padding: 15px 20px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            color: var(--text-light);
            font-size: 1.1em;
            font-weight: 600;
            text-align: left;
            transition: background-color 0.3s, color 0.3s, transform 0.3s;
            box-shadow: 0 2px 5px var(--shadow-color);
        }

        .nav-card:hover {
            background-color: rgba(0, 85, 255, 0.2); /* Adjusted hover background */
            color: var(--accent-color);
            transform: translateX(5px);
        }

        .nav-card.active {
            background-color: var(--accent-color);
            color: var(--text-light);
            box-shadow: 0 4px 10px rgba(0, 85, 255, 0.6); /* Adjusted active shadow */
            transform: translateX(0); /* Reset transform if active */
        }

        /* --- Main Content Area --- */
        .content-area {
            flex-grow: 1; /* Takes remaining space */
            padding: 0 5vw; /* Horizontal padding for content */
            max-width: calc(100% - 280px); /* Limit content width */
            margin: 0 auto; /* Center content within its max-width */
            /* Removed overflow-y: auto here, as body handles scrolling */
        }

        /* --- Sections --- */
        .section {
            min-height: 100vh; /* Each section takes at least full viewport height */
            display: flex;
            flex-direction: column;
            justify-content: center; /* Center content vertically in section */
            align-items: flex-start; /* Align content to the left */
            padding: 60px 0; /* Vertical padding */
            position: relative; /* For animations */
        }

        .section-content {
            max-width: 900px; /* Limit content width inside sections */
            width: 100%;
        }

        .section h2 {
            position: relative;
            padding-bottom: 10px;
            margin-bottom: 40px;
            display: inline-block; /* Make underline fit text */
            font-size: 2.8em;
        }

        .section h2::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 60%; /* Underline width */
            height: 4px;
            background-color: var(--accent-color);
            border-radius: 2px;
        }

        /* Home Section Specific */
        #home {
            text-align: left;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        #home p {
            font-size: 1.5em;
            margin-bottom: 10px;
            color: var(--text-grey);
        }
        #home h2 {
            font-size: 4.5em;
            font-weight: 700;
            margin-bottom: 20px;
            background: linear-gradient(90deg, var(--text-light) 0%, var(--accent-color) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: inline-block; /* For gradient */
        }
        #home h2::after { display: none; } /* No underline for hero h2 */

        .tagline {
            font-size: 1.8em;
            font-weight: 300;
            margin-bottom: 40px;
        }
        #home .btn-primary {
            padding: 1em 2em;
            font-size: 1.2em;
        }

        /* About Section Specific */
        .about-text {
            margin-bottom: 1.5em;
            color: var(--text-grey);
        }

        /* Skills Section Specific */
        .skills-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }

        .skill-item {
            background-color: rgba(0, 85, 255, 0.1); /* Adjusted skill item background */
            color: var(--accent-color);
            padding: 10px 20px;
            border-radius: 25px;
            font-family: 'Roboto Mono', monospace;
            font-size: 0.9em;
            font-weight: 500;
            border: 1px solid var(--accent-color);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s ease-in-out, background-color 0.2s;
        }
        .skill-item:hover {
            transform: translateY(-3px);
            background-color: rgba(0, 85, 255, 0.3); /* Adjusted skill item hover background */
        }

        /* Projects Section Specific */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 20px;
        }

        .project-card {
            background-color: var(--bg-medium);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 6px 15px var(--shadow-color);
            transition: transform 0.3s var(--transition-ease), box-shadow 0.3s var(--transition-ease);
            display: flex;
            flex-direction: column;
        }
        .project-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px var(--shadow-color);
        }

        .project-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .project-card h3 {
            padding: 20px 20px 10px;
            margin-bottom: 0;
            color: var(--accent-color);
            font-size: 1.6em;
        }

        .project-card p {
            padding: 0 20px 20px;
            font-size: 1em;
            color: var(--text-grey);
            flex-grow: 1; /* Push links to bottom */
        }

        .project-links {
            padding: 0 20px 20px;
            display: flex;
            gap: 15px;
            margin-top: auto; /* Push to bottom of card */
        }

        /* Contact Section Specific */
        .contact-text {
            font-size: 1.1em;
            margin-bottom: 40px;
            color: var(--text-grey);
        }

        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 600px;
            width: 100%;
            margin-bottom: 40px;
        }

        .contact-form input,
        .contact-form textarea {
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background-color: var(--bg-medium);
            border-radius: 8px;
            color: var(--text-light);
            font-size: 1em;
            font-family: 'Montserrat', sans-serif;
            transition: border-color 0.3s;
        }

        .contact-form input:focus,
        .contact-form textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(0, 85, 255, 0.3); /* Adjusted focus shadow */
        }

        .contact-form input::placeholder,
        .contact-form textarea::placeholder {
            color: var(--text-grey);
        }

        .contact-form button {
            align-self: flex-start; /* Align button to the left */
            padding: 1em 2.5em;
            font-size: 1.1em;
        }

        .social-links {
            display: flex;
            gap: 25px;
            font-size: 1.1em;
        }
        .social-links a {
            color: var(--text-grey);
            transition: color 0.3s;
        }
        .social-links a:hover {
            color: var(--accent-color);
        }

        /* --- Animations for Sections and Elements --- */
        /* Initial state for elements that will animate in */
        .section .animate-fade-up,
        .section .animate-fade-right,
        .section .skill-item,
        .section .project-card {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s var(--transition-ease), transform 0.8s var(--transition-ease);
        }
        .section h2.animate-fade-up {
            transform: translateY(30px); /* Slightly more pronounced for titles */
        }

        /* Delay for sequential animations */
        .animate-delay-1 { transition-delay: 0.1s; }
        .animate-delay-2 { transition-delay: 0.2s; }
        .animate-delay-3 { transition-delay: 0.3s; }
        .animate-delay-4 { transition-delay: 0.4s; }
        /* ... add more as needed */

        /* State when element is visible */
        .section.is-visible .animate-fade-up,
        .section.is-visible .animate-fade-right,
        .section.is-visible .skill-item,
        .section.is-visible .project-card {
            opacity: 1;
            transform: translateY(0);
        }

        /* Specific animation for project cards (staggered grid animation handled by delays) */
        .projects-grid .project-card {
            transition: opacity 0.8s var(--transition-ease), transform 0.8s var(--transition-ease);
        }

        /* Media Queries for Responsiveness */
        /* Desktop to Tablet transition */
        @media (max-width: 1024px) {
            .sidebar {
                width: 250px;
                padding: 20px 15px;
            }
            .profile-pic-container {
                margin-bottom: 30px;
                padding-bottom: 15px;
            }
            .navigation-cards {
                gap: 10px;
            }
            .nav-card {
                padding: 12px 15px;
                font-size: 1em;
            }
            .content-area {
                max-width: calc(100% - 250px);
                padding: 0 4vw;
            }
            .section h2 {
                font-size: 2.5em;
                margin-bottom: 35px;
            }
            #home h2 {
                font-size: 3.8em;
            }
            .tagline {
                font-size: 1.5em;
            }
            #home .btn-primary {
                padding: 0.8em 1.8em;
                font-size: 1.1em;
            }
        }

        /* Tablet (portrait) to Mobile transition */
        @media (max-width: 768px) {
            .main-content-wrapper {
                flex-direction: column; /* Stack sidebar and content */
            }

            .sidebar {
                width: 100%; /* Full width */
                height: auto; /* Allow sidebar to collapse */
                position: relative; /* No longer sticky on small screens */
                padding: 20px;
                box-shadow: 0 4px 10px var(--shadow-color);
                /* Remove overflow-y: auto here as content should never make sidebar scroll on mobile */
                overflow-y: visible; /* or unset */
            }

            .profile-pic-container {
                border-bottom: none;
                margin-bottom: 20px;
            }

            .profile-pic {
                /* Adjusted size for mobile */
                width: 120px; /* Reduced for smaller screens */
                height: 120px; /* Reduced for smaller screens */
            }
            .profile-pic-container h1 {
                font-size: 1.6em;
            }
            .profile-pic-container p {
                font-size: 0.85em;
            }

            .navigation-cards {
                flex-direction: row; /* Horizontal nav cards */
                flex-wrap: wrap;
                justify-content: center;
                gap: 10px;
                margin-top: 15px; /* Add some space from profile info */
            }
            .nav-card {
                padding: 10px 15px;
                font-size: 0.95em;
                text-align: center;
                flex-grow: 1; /* Allow cards to grow */
                max-width: fit-content; /* Prevent overstretching on few items */
            }

            .content-area {
                max-width: 100%;
                padding: 40px 5vw; /* Adjust padding for mobile */
            }

            .section {
                min-height: auto; /* No min-height for mobile sections, content dictates height */
                padding: 60px 0;
                align-items: center; /* Center content horizontally within section on mobile */
                text-align: center; /* Center text within content */
            }
            .section h2 {
                font-size: 2em;
                margin-bottom: 30px;
                width: 100%; /* Ensure underline centers */
            }
            .section h2::after {
                left: 50%;
                transform: translateX(-50%);
            }

            #home {
                text-align: center; /* Center content in home section */
            }
            #home h2 {
                font-size: 3em;
                text-align: center;
            }
            #home p, .tagline {
                text-align: center;
            }
            #home .btn-primary {
                margin: 0 auto; /* Center button */
                display: block;
                max-width: 200px;
            }

            .projects-grid {
                grid-template-columns: 1fr; /* Single column for projects */
            }

            .contact-form {
                max-width: 100%;
            }
            .contact-form button {
                align-self: stretch; /* Full width button */
            }

            .social-links {
                justify-content: center;
            }
        }

        /* Small Mobile screens (e.g., iPhone SE) */
        @media (max-width: 480px) {
            h1 { font-size: 2.2em; }
            h2 { font-size: 1.8em; }
            p { font-size: 1em; }
            #home h2 { font-size: 2.5em; }
            .tagline { font-size: 1.2em; }
            .nav-card { font-size: 0.85em; padding: 8px 10px; }
            .skills-grid { gap: 8px; }
            .skill-item { padding: 7px 12px; font-size: 0.8em; }
            .project-card h3 { font-size: 1.4em; }
            .project-card p { font-size: 0.9em; }
            .project-card img { height: 160px; }
            .btn-primary, .btn-secondary { padding: 0.7em 1.2em; font-size: 0.9em; }
        }
    </style>
</head>
<body>

    <!-- Loading Overlay -->
    <div class="loader-overlay">
        <div class="loader"></div>
    </div>

    <div class="main-content-wrapper">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="profile-pic-container">
                <!-- Updated image source to the provided GitHub avatar URL -->
                <img src="https://avatars.githubusercontent.com/u/148077935?s=400&u=714ab81cde3d42414678217d1a1238ad2fe129c0&v=4" alt="Your Profile Picture" class="profile-pic" onerror="this.onerror=null; this.src='https://placehold.co/200x200/cccccc/333333?text=Image+Error';">
                <h1>T. Sridhar Rao</h1>
                <p>Web Developer | Designer </p>
            </div>
            <nav class="navigation-cards">
                <a href="#home" class="nav-card active">Home</a>
                <a href="#about" class="nav-card">About Me</a>
                <a href="#skills" class="nav-card">Skills</a>
                <a href="#projects" class="nav-card">Projects</a>
                <a href="#contact" class="nav-card">Contact</a>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="content-area">
            <!-- Home Section -->
            <section id="home" class="section">
                <div class="section-content">
                    <p class="animate-fade-up">Hello, I'm</p>
                    <h2 class="animate-fade-up animate-delay-1">T .Sridhar Rao</h2>
                    <p class="tagline animate-fade-up animate-delay-2">Building <span class="highlight">beautiful</span> and <span class="highlight">functional</span> web experiences.</p>
                    <a href="#projects" class="btn-primary animate-fade-up animate-delay-3">View My Work</a>
                </div>
            </section>

            <!-- About Section -->
            <section id="about" class="section">
                <div class="section-content">
                    <h2 class="animate-fade-up">About Me</h2>
                    <p class="about-text animate-fade-up animate-delay-1">
                        I'm a passionate web developer with a keen eye for design and a love for creating intuitive, dynamic user experiences. My journey into web development began with a curiosity for how things work on the internet, which quickly evolved into a dedicated pursuit of crafting beautiful and efficient solutions.
                    </p>
                    <p class="about-text animate-fade-up animate-delay-2">
                        I specialize in <span class="highlight">frontend development</span>, bringing ideas to life with clean, maintainable code. I enjoy learning new technologies and constantly improving my craft. When I'm not coding, you can find me exploring new coffee shops, hiking, or diving into a good book.
                    </p>
                </div>
            </section>

            <!-- Skills Section -->
            <section id="skills" class="section">
                <div class="section-content">
                    <h2 class="animate-fade-up">My Skills</h2>
                    <div class="skills-grid animate-fade-up animate-delay-1">
                        <span class="skill-item">HTML5</span>
                        <span class="skill-item">CSS3</span>
                        <span class="skill-item">JavaScript (ES6+)</span>
                        
                         <span class="skill-item">Figma</span>

                        
                       
                    
                        <span class="skill-item">Git & GitHub</span>
                    
                        <span class="skill-item">Responsive Design</span>
                        <span class="skill-item">UI/UX Principles</span>
                    </div>
                </div>
            </section>

            <!-- Projects Section -->
            <section id="projects" class="section">
                <div class="section-content">
                    <h2 class="animate-fade-up">My Projects</h2>
                    <div class="projects-grid">
                        <!-- Project 1 -->
                        <div class="project-card animate-fade-up animate-delay-1">
                            <img src="assets/project1.jpg" alt="Project 1 Thumbnail">
                            <h3>E-commerce Store</h3>
                            <p>A full-stack e-commerce platform built with React, Node.js, and MongoDB, featuring user authentication, product management, and a secure checkout process.</p>
                            <div class="project-links">
                                <a href="#" target="_blank" class="btn-primary">Live Demo</a>
                                <a href="#" target="_blank" class="btn-secondary">GitHub Repo</a>
                            </div>
                        </div>
                        <!-- Project 2 -->
                        <div class="project-card animate-fade-up animate-delay-2">
                            <img src="assets/project2.jpg" alt="Project 2 Thumbnail">
                            <h3>Task Management App</h3>
                            <p>A sleek and intuitive task management application developed using Next.js and Tailwind CSS, offering real-time updates and drag-and-drop functionality.</p>
                            <div class="project-links">
                                <a href="#" target="_blank" class="btn-primary">Live Demo</a>
                                <a href="#" target="_blank" class="btn-secondary">GitHub Repo</a>
                            </div>
                        </div>
                        <!-- Project 3 -->
                        <div class="project-card animate-fade-up animate-delay-3">
                            <img src="assets/project3.jpg" alt="Project 3 Thumbnail">
                            <h3>Personal Blog Site</h3>
                            <p>A minimalist personal blog built with HTML, CSS, and vanilla JavaScript, optimized for performance and readability, featuring dynamic content loading.</p>
                            <div class="project-links">
                                <a href="#" target="_blank" class="btn-primary">Live Demo</a>
                                <a href="#" target="_blank" class="btn-secondary">GitHub Repo</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Contact Section -->
            <section id="contact" class="section">
                <div class="section-content">
                    <h2 class="animate-fade-up">Get in Touch</h2>
                    <p class="contact-text animate-fade-up animate-delay-1">
                        I'm always open to new opportunities, collaborations, or just a friendly chat. Feel free to reach out!
                    </p>
                    <form class="contact-form animate-fade-up animate-delay-2" id="contactForm">
    <input type="text" placeholder="Your Name" required name="name">
    <input type="email" placeholder="Your Email" required name="email">
    <textarea placeholder="Your Message" rows="5" required name="message"></textarea>
    <button type="submit" class="btn-primary">Send Message</button>
    <div id="form-status-message" style="margin-top: 15px; text-align: center; color: var(--accent-color);"></div>
</form>
                    <div class="social-links animate-fade-up animate-delay-3">
                        
                        <a href="https://github.com/ThotaSridharRao" target="_blank">GitHub</a>
                        <a href="mailto:Sridharrao307.com">Email Me</a>
                        <a >+91 9589912601</a>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- ALL YOUR JAVASCRIPT CODE GOES WITHIN THIS LISTENER ---

            // --- Element Selections (Declare all variables at the beginning of the listener) ---
            const loaderOverlay = document.querySelector('.loader-overlay');
            const body = document.body; // body is generally guaranteed to exist
            const navCards = document.querySelectorAll('.nav-card');
            const sections = document.querySelectorAll('.section');
            const contactForm = document.getElementById('contactForm');
            const formStatusMessage = document.getElementById('form-status-message');


            // --- Page Loading Animation ---
            if (loaderOverlay) { // Add null check for loaderOverlay
                window.addEventListener('load', () => {
                    setTimeout(() => {
                        if (loaderOverlay) { // Defensive check
                            loaderOverlay.classList.add('hidden');
                        }
                        if (body) { // Defensive check for body, though rarely null
                           body.classList.add('scroll-unlocked');
                        }
                        if (sections.length > 0 && sections[0]) { // Check length and existence of element at index 0
                            sections[0].classList.add('is-visible');
                        }
                    }, 500); // Wait a bit before hiding to ensure smooth transition
                    setTimeout(() => {
                        if (loaderOverlay) { // Check if element still exists before removing
                            loaderOverlay.remove(); // Remove loader from DOM after transition
                        }
                    }, 1300); // Total transition time (0.8s opacity + 0.5s delay)
                });
            }


            // --- Sidebar Navigation ---
            navCards.forEach(card => {
                card.addEventListener('click', (e) => {
                    e.preventDefault(); // Prevent default anchor link behavior

                    // Remove 'active' class from all nav cards
                    navCards.forEach(item => item.classList.remove('active'));
                    // Add 'active' class to the clicked nav card
                    card.classList.add('active');

                    // Get the target section's ID from the href
                    const targetId = card.getAttribute('href');
                    const targetSection = document.querySelector(targetId);

                    if (targetSection) {
                        // For mobile/tablet, if sidebar is stacked, scroll just below the sidebar
                        if (window.innerWidth <= 768) {
                            const sidebar = document.querySelector('.sidebar'); // Get sidebar here for height
                            const sidebarHeight = sidebar ? sidebar.offsetHeight : 0; // Check if sidebar exists
                            // Calculate scroll position to place targetSection just below the sticky/top sidebar
                            const offsetTop = targetSection.getBoundingClientRect().top + window.scrollY - sidebarHeight;
                            window.scrollTo({ top: offsetTop, behavior: 'smooth' });
                        } else {
                            // On desktop, scroll directly to the section
                            targetSection.scrollIntoView({
                                behavior: 'smooth' // Smooth scroll animation
                            });
                        }
                    }
                });
            });


            // --- Section Animations on Scroll (Intersection Observer) ---
            const sectionObserverOptions = {
                root: null, // relative to the viewport
                rootMargin: '0px',
                threshold: 0.2 // Percentage of the section that needs to be visible
            };

            const sectionObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        // Optional: Stop observing once it's visible to animate only once
                        // observer.unobserve(entry.target);
                    } else {
                        // Optional: Remove 'is-visible' if you want elements to re-animate when scrolling back up
                        // entry.target.classList.remove('is-visible');
                    }
                });
            }, sectionObserverOptions);

            sections.forEach(section => {
                sectionObserver.observe(section);
            });

            // Initialize first section as active and visible when JS loads
            const firstSection = document.getElementById('home');
            if (firstSection) { // Null check for firstSection
                firstSection.classList.add('is-visible');
                // Ensure the initial active nav card is set
                const homeNavCard = document.querySelector('.nav-card[href="#home"]');
                if (homeNavCard) { // Null check for homeNavCard
                    homeNavCard.classList.add('active');
                }
            }


            // --- Update active nav card on scroll ---
            const updateActiveNav = () => {
                let currentSectionId = 'home'; // Default to home

                sections.forEach(section => {
                    const rect = section.getBoundingClientRect();
                    const sidebar = document.querySelector('.sidebar'); // Get sidebar here for height
                    const sidebarHeight = sidebar ? sidebar.offsetHeight : 0; // Check if sidebar exists

                    if (rect.top <= (window.innerHeight / 2 + sidebarHeight / 2) && rect.bottom >= (window.innerHeight / 2 + sidebarHeight / 2)) {
                        currentSectionId = section.id;
                    }
                });

                navCards.forEach(card => {
                    card.classList.remove('active');
                    if (card.getAttribute('href') === `#${currentSectionId}`) {
                        card.classList.add('active');
                    }
                });
            };

            window.addEventListener('scroll', updateActiveNav);
            updateActiveNav(); // Call once on load for initial state


            // --- Contact Form Submission Logic ---
            if (contactForm) { // Null check for contactForm
                contactForm.addEventListener('submit', async (e) => {
                    e.preventDefault(); // Prevent default form submission

                    if (formStatusMessage) { // Null check for formStatusMessage
                        formStatusMessage.textContent = 'Sending message...';
                        formStatusMessage.style.color = 'var(--accent-color)'; // Default color for sending
                    }

                    // Create FormData object directly from the form
                    const formData = new FormData(contactForm); // This creates the multipart/form-data

                    try {
                        const response = await fetch('https://portfolio-backend-6qg0.onrender.com/api/contact', { // Your backend endpoint
                            method: 'POST',
                            // IMPORTANT: DO NOT set 'Content-Type' header manually when sending FormData.
                            // The browser will set it correctly to 'multipart/form-data' including the boundary.
                            body: formData, // Send the FormData object directly
                        });

                        if (response.ok) {
                            if (formStatusMessage) {
                                formStatusMessage.textContent = 'Message sent successfully!';
                                formStatusMessage.style.color = 'green';
                            }
                            contactForm.reset(); // Clear the form
                        } else {
                            const errorData = await response.json();
                            if (formStatusMessage) {
                                formStatusMessage.textContent = `Error: ${errorData.message || 'Failed to send message.'}`;
                                formStatusMessage.style.color = 'red';
                            }
                        }
                    } catch (error) {
                        console.error('Network error:', error);
                        if (formStatusMessage) {
                            formStatusMessage.textContent = 'Error: Could not connect to the server.';
                            formStatusMessage.style.color = 'red';
                        }
                    } finally {
                        setTimeout(() => {
                            if (formStatusMessage) {
                                formStatusMessage.textContent = ''; // Clear message after a few seconds
                            }
                        }, 5000);
                    }
                });
            }
        });
    </script>
</body>
</html>
